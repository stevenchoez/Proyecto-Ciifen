import { Component, ElementRef, OnInit } from "@angular/core";
import * as d3 from "d3";
import { Selection } from "d3-selection";
import { BaseType } from "d3";

@Component({
  selector: "app-reportes-dashboard",
  templateUrl: "./reportes-dashboard.component.html",
  styleUrls: ["./reportes-dashboard.component.scss"],
})
export class ReportesDashboardComponent implements OnInit {
  constructor(private elementRef: ElementRef) {}

  ngOnInit() {
    this.renderPlot();
  }

  renderPlot() {
    const data = {
      x: [
        24.0, 34.03703703703704, 44.074074074074076, 54.11111111111111,
        64.14814814814815, 74.18518518518519, 84.22222222222221,
        94.25925925925925, 104.29629629629629, 114.33333333333333,
        124.37037037037037, 134.4074074074074, 144.44444444444443,
        154.48148148148147, 164.5185185185185, 174.55555555555554,
        184.59259259259258, 194.62962962962962, 204.66666666666666,
        214.7037037037037, 224.74074074074073, 234.77777777777777,
        244.8148148148148, 254.85185185185185, 264.88888888888886,
        274.92592592592587, 284.96296296296293, 295.0, 305.037037037037,
        315.0740740740741, 325.1111111111111, 335.14814814814815,
        345.18518518518516, 355.2222222222222, 365.25925925925924,
        375.29629629629625, 385.3333333333333, 395.3703703703703,
        405.4074074074074, 415.4444444444444, 425.48148148148147,
        435.5185185185185, 445.55555555555554, 455.59259259259255,
        465.6296296296296, 475.66666666666663, 485.7037037037037,
        495.7407407407407, 505.7777777777777, 515.8148148148148,
        525.8518518518517, 535.8888888888889, 545.9259259259259,
        555.9629629629629, 566.0, 576.037037037037, 586.074074074074,
        596.1111111111111, 606.1481481481482, 616.1851851851851,
        626.2222222222222, 636.2592592592592, 646.2962962962963,
        656.3333333333333, 666.3703703703703, 676.4074074074074,
        686.4444444444443, 696.4814814814814, 706.5185185185185,
        716.5555555555555, 726.5925925925925, 736.6296296296296,
        746.6666666666666, 756.7037037037037, 766.7407407407406,
        776.7777777777777, 786.8148148148148, 796.8518518518518,
        806.8888888888888, 816.9259259259259, 826.9629629629629,
        836.9999999999999, 847.037037037037, 857.074074074074,
        867.1111111111111, 877.148148148148, 887.1851851851851,
        897.2222222222222, 907.2592592592592, 917.2962962962962,
        927.3333333333333, 937.3703703703703, 947.4074074074074,
        957.4444444444443, 967.4814814814814, 977.5185185185185,
        987.5555555555554, 997.5925925925925, 1007.6296296296296,
        1017.6666666666666, 1027.7037037037035, 1037.7407407407406,
        1047.7777777777778, 1057.8148148148148, 1067.8518518518517,
        1077.888888888889, 1087.9259259259259, 1097.9629629629628, 1108.0,
        1118.037037037037, 1128.074074074074, 1138.111111111111,
        1148.148148148148, 1158.185185185185, 1168.2222222222222,
        1178.2592592592591, 1188.2962962962963, 1198.3333333333333,
        1208.3703703703702, 1218.4074074074074, 1228.4444444444443,
        1238.4814814814813, 1248.5185185185185, 1258.5555555555554,
        1268.5925925925926, 1278.6296296296296, 1288.6666666666665,
        1298.7037037037037, 1308.7407407407406, 1318.7777777777776,
        1328.8148148148148, 1338.8518518518517, 1348.8888888888887,
        1358.9259259259259, 1368.9629629629628, 1379.0, 1389.037037037037,
        1399.074074074074, 1409.111111111111, 1419.148148148148,
        1429.185185185185, 1439.2222222222222, 1449.2592592592591,
        1459.2962962962963, 1469.3333333333333, 1479.3703703703702,
        1489.4074074074074, 1499.4444444444443, 1509.4814814814813,
        1519.5185185185185, 1529.5555555555554, 1539.5925925925924,
        1549.6296296296296, 1559.6666666666665, 1569.7037037037037,
        1579.7407407407406, 1589.7777777777776, 1599.8148148148148,
        1609.8518518518517, 1619.8888888888887, 1629.9259259259259,
        1639.9629629629628, 1649.9999999999998, 1660.037037037037,
        1670.074074074074, 1680.111111111111, 1690.148148148148,
        1700.185185185185, 1710.2222222222222, 1720.2592592592591,
        1730.296296296296, 1740.3333333333333, 1750.3703703703702,
        1760.4074074074074, 1770.4444444444443, 1780.4814814814813,
        1790.5185185185185, 1800.5555555555554, 1810.5925925925924,
        1820.6296296296296, 1830.6666666666665, 1840.7037037037035,
        1850.7407407407406, 1860.7777777777776, 1870.8148148148148,
        1880.8518518518517, 1890.8888888888887, 1900.9259259259259,
        1910.9629629629628, 1920.9999999999998, 1931.037037037037,
        1941.074074074074, 1951.1111111111109, 1961.148148148148,
        1971.185185185185, 1981.2222222222222, 1991.2592592592591,
        2001.296296296296, 2011.3333333333333, 2021.3703703703702,
        2031.4074074074072, 2041.4444444444443, 2051.4814814814813,
        2061.5185185185182, 2071.5555555555557, 2081.5925925925926,
        2091.6296296296296, 2101.6666666666665, 2111.7037037037035,
        2121.7407407407404, 2131.777777777778, 2141.814814814815,
        2151.8518518518517, 2161.8888888888887, 2171.9259259259256,
        2181.9629629629626, 2192.0, 2202.037037037037, 2212.074074074074,
        2222.111111111111, 2232.148148148148, 2242.185185185185,
        2252.222222222222, 2262.259259259259, 2272.296296296296,
        2282.333333333333, 2292.37037037037, 2302.4074074074074,
        2312.4444444444443, 2322.4814814814813, 2332.5185185185182,
        2342.555555555555, 2352.5925925925926, 2362.6296296296296,
        2372.6666666666665, 2382.7037037037035, 2392.7407407407404,
        2402.777777777778, 2412.814814814815, 2422.8518518518517,
        2432.8888888888887, 2442.9259259259256, 2452.9629629629626, 2463.0,
        2473.037037037037, 2483.074074074074, 2493.111111111111,
        2503.148148148148, 2513.185185185185, 2523.222222222222,
        2533.259259259259, 2543.296296296296, 2553.333333333333,
        2563.37037037037, 2573.4074074074074, 2583.4444444444443,
        2593.4814814814813, 2603.5185185185182, 2613.555555555555,
        2623.5925925925926, 2633.6296296296296, 2643.6666666666665,
        2653.7037037037035, 2663.7407407407404, 2673.7777777777774,
        2683.814814814815, 2693.8518518518517, 2703.8888888888887,
        2713.9259259259256, 2723.9629629629626, 2734.0, 2744.037037037037,
        2754.074074074074, 2764.111111111111, 2774.148148148148,
        2784.1851851851848, 2794.222222222222, 2804.259259259259,
        2814.296296296296, 2824.333333333333, 2834.37037037037,
        2844.4074074074074, 2854.4444444444443, 2864.4814814814813,
        2874.5185185185182, 2884.555555555555, 2894.5925925925926,
        2904.6296296296296, 2914.6666666666665, 2924.7037037037035,
        2934.7407407407404, 2944.7777777777774, 2954.814814814815,
        2964.8518518518517, 2974.8888888888887, 2984.9259259259256,
        2994.9629629629626, 3005.0, 3015.037037037037, 3025.074074074074,
        3035.111111111111, 3045.148148148148, 3055.1851851851848,
        3065.222222222222, 3075.259259259259, 3085.296296296296,
        3095.333333333333, 3105.37037037037, 3115.4074074074074,
        3125.4444444444443, 3135.4814814814813, 3145.5185185185182,
        3155.555555555555, 3165.592592592592, 3175.6296296296296,
        3185.6666666666665, 3195.7037037037035, 3205.7407407407404,
        3215.7777777777774, 3225.814814814815, 3235.8518518518517,
        3245.8888888888887, 3255.9259259259256, 3265.9629629629626,
        3275.9999999999995, 3286.037037037037, 3296.074074074074,
        3306.111111111111, 3316.148148148148, 3326.1851851851848,
        3336.222222222222, 3346.259259259259, 3356.296296296296,
        3366.333333333333, 3376.37037037037, 3386.4074074074074,
        3396.4444444444443, 3406.4814814814813, 3416.5185185185182,
        3426.555555555555, 3436.592592592592, 3446.6296296296296,
        3456.6666666666665, 3466.7037037037035, 3476.7407407407404,
        3486.7777777777774, 3496.814814814815, 3506.8518518518517,
        3516.8888888888887, 3526.9259259259256, 3536.9629629629626,
        3546.9999999999995, 3557.037037037037, 3567.074074074074,
        3577.111111111111, 3587.148148148148, 3597.1851851851848,
        3607.222222222222, 3617.259259259259, 3627.296296296296,
        3637.333333333333, 3647.37037037037, 3657.407407407407,
        3667.4444444444443, 3677.4814814814813, 3687.5185185185182,
        3697.555555555555, 3707.592592592592, 3717.6296296296296,
        3727.6666666666665, 3737.7037037037035, 3747.7407407407404,
        3757.7777777777774, 3767.8148148148143, 3777.8518518518517,
        3787.8888888888887, 3797.9259259259256, 3807.9629629629626,
        3817.9999999999995, 3828.037037037037, 3838.074074074074,
        3848.111111111111, 3858.148148148148, 3868.1851851851848,
        3878.2222222222217, 3888.259259259259, 3898.296296296296,
        3908.333333333333, 3918.37037037037, 3928.407407407407,
        3938.4444444444443, 3948.4814814814813, 3958.5185185185182,
        3968.555555555555, 3978.592592592592, 3988.6296296296296,
        3998.6666666666665, 4008.7037037037035, 4018.7407407407404,
        4028.7777777777774, 4038.8148148148143, 4048.8518518518517,
        4058.8888888888887, 4068.9259259259256, 4078.9629629629626,
        4088.9999999999995, 4099.0370370370365, 4109.074074074074,
        4119.111111111111, 4129.148148148148, 4139.185185185185,
        4149.222222222222, 4159.259259259259, 4169.296296296296,
        4179.333333333333, 4189.37037037037, 4199.407407407407,
        4209.444444444444, 4219.481481481481, 4229.518518518518,
        4239.555555555556, 4249.592592592592, 4259.62962962963,
        4269.666666666666, 4279.7037037037035, 4289.740740740741,
        4299.777777777777, 4309.814814814815, 4319.851851851851,
        4329.888888888889, 4339.925925925925, 4349.962962962963, 4360.0,
        4370.0370370370365, 4380.074074074074, 4390.11111111111,
        4400.148148148148, 4410.185185185185, 4420.222222222222,
        4430.259259259259, 4440.296296296296, 4450.333333333333,
        4460.37037037037, 4470.407407407407, 4480.444444444444,
        4490.481481481481, 4500.518518518518, 4510.555555555556,
        4520.592592592592, 4530.62962962963, 4540.666666666666,
        4550.7037037037035, 4560.74074074074, 4570.777777777777,
        4580.814814814815, 4590.851851851851, 4600.888888888889,
        4610.925925925925, 4620.962962962963, 4631.0, 4641.0370370370365,
        4651.074074074074, 4661.11111111111, 4671.148148148148,
        4681.185185185185, 4691.222222222222, 4701.259259259259,
        4711.296296296296, 4721.333333333333, 4731.37037037037,
        4741.407407407407, 4751.444444444444, 4761.481481481481,
        4771.518518518518, 4781.555555555556, 4791.592592592592,
        4801.62962962963, 4811.666666666666, 4821.7037037037035,
        4831.74074074074, 4841.777777777777, 4851.814814814815,
        4861.851851851851, 4871.888888888889, 4881.925925925925,
        4891.962962962963, 4902.0, 4912.0370370370365, 4922.074074074074,
        4932.11111111111, 4942.148148148148, 4952.185185185185,
        4962.222222222222, 4972.259259259259, 4982.296296296296,
        4992.333333333333, 5002.37037037037, 5012.407407407407,
        5022.444444444444, 5032.481481481481, 5042.518518518518,
        5052.555555555555, 5062.592592592592, 5072.62962962963,
        5082.666666666666, 5092.7037037037035, 5102.74074074074,
        5112.777777777777, 5122.814814814815, 5132.851851851851,
        5142.888888888889, 5152.925925925925, 5162.962962962963, 5173.0,
        5183.0370370370365, 5193.074074074074, 5203.11111111111,
        5213.148148148148, 5223.185185185185, 5233.222222222222,
        5243.259259259259, 5253.296296296296, 5263.333333333333,
        5273.37037037037, 5283.407407407407, 5293.444444444444,
        5303.481481481481, 5313.518518518518, 5323.555555555555,
        5333.592592592592, 5343.62962962963, 5353.666666666666,
        5363.7037037037035, 5373.74074074074, 5383.777777777777,
        5393.814814814815, 5403.851851851851, 5413.888888888889,
        5423.925925925925, 5433.962962962963, 5444.0, 5454.0370370370365,
        5464.074074074074, 5474.11111111111, 5484.148148148148,
        5494.185185185185, 5504.222222222222, 5514.259259259259,
        5524.296296296296, 5534.333333333333, 5544.3703703703695,
        5554.407407407407, 5564.444444444444, 5574.481481481481,
        5584.518518518518, 5594.555555555555, 5604.592592592592,
        5614.62962962963, 5624.666666666666, 5634.7037037037035,
        5644.74074074074, 5654.777777777777, 5664.814814814815,
        5674.851851851851, 5684.888888888889, 5694.925925925925,
        5704.962962962963, 5715.0, 5725.0370370370365, 5735.074074074074,
        5745.11111111111, 5755.148148148148, 5765.185185185185,
        5775.222222222222, 5785.259259259259, 5795.296296296296,
        5805.333333333333, 5815.3703703703695, 5825.407407407407,
        5835.444444444444, 5845.481481481481, 5855.518518518518,
        5865.555555555555, 5875.592592592592, 5885.62962962963,
        5895.666666666666, 5905.7037037037035, 5915.74074074074,
        5925.777777777777, 5935.814814814815, 5945.851851851851,
        5955.888888888889, 5965.925925925925, 5975.962962962963, 5986.0,
        5996.0370370370365, 6006.074074074074, 6016.11111111111,
        6026.148148148148, 6036.185185185184, 6046.222222222222,
        6056.259259259259, 6066.296296296296, 6076.333333333333,
        6086.3703703703695, 6096.407407407407, 6106.444444444444,
        6116.481481481481, 6126.518518518518, 6136.555555555555,
        6146.592592592592, 6156.62962962963, 6166.666666666666,
        6176.7037037037035, 6186.74074074074, 6196.777777777777,
        6206.814814814815, 6216.851851851851, 6226.888888888889,
        6236.925925925925, 6246.962962962963, 6257.0, 6267.0370370370365,
        6277.074074074074, 6287.11111111111, 6297.148148148148,
        6307.185185185184, 6317.222222222222, 6327.259259259259,
        6337.296296296296, 6347.333333333333, 6357.3703703703695,
        6367.407407407407, 6377.444444444444, 6387.481481481481,
        6397.518518518518, 6407.555555555555, 6417.592592592592,
        6427.62962962963, 6437.666666666666, 6447.7037037037035,
        6457.74074074074, 6467.777777777777, 6477.814814814815,
        6487.851851851851, 6497.888888888889, 6507.925925925925,
        6517.962962962963, 6527.999999999999, 6538.0370370370365,
        6548.074074074074, 6558.11111111111, 6568.148148148148,
        6578.185185185184, 6588.222222222222, 6598.259259259259,
        6608.296296296296, 6618.333333333333, 6628.3703703703695,
        6638.407407407407, 6648.444444444444, 6658.481481481481,
        6668.518518518518, 6678.555555555555, 6688.592592592592,
        6698.62962962963, 6708.666666666666, 6718.7037037037035,
        6728.74074074074, 6738.777777777777, 6748.814814814815,
        6758.851851851851, 6768.888888888889, 6778.925925925925,
        6788.962962962963, 6798.999999999999, 6809.0370370370365,
        6819.074074074074, 6829.11111111111, 6839.148148148148,
        6849.185185185184, 6859.222222222222, 6869.259259259259,
        6879.296296296296, 6889.333333333333, 6899.3703703703695,
        6909.407407407407, 6919.444444444444, 6929.481481481481,
        6939.518518518518, 6949.555555555555, 6959.592592592592,
        6969.62962962963, 6979.666666666666, 6989.7037037037035,
        6999.74074074074, 7009.777777777777, 7019.814814814814,
        7029.851851851851, 7039.888888888889, 7049.925925925925,
        7059.962962962963, 7069.999999999999, 7080.0370370370365,
        7090.074074074074, 7100.11111111111, 7110.148148148148,
        7120.185185185184, 7130.222222222222, 7140.259259259259,
        7150.296296296296, 7160.333333333333, 7170.3703703703695,
        7180.407407407407, 7190.444444444444, 7200.481481481481,
        7210.518518518518, 7220.555555555555, 7230.592592592592,
        7240.62962962963, 7250.666666666666, 7260.7037037037035,
        7270.74074074074, 7280.777777777777, 7290.814814814814,
        7300.851851851851, 7310.888888888889, 7320.925925925925,
        7330.962962962963, 7340.999999999999, 7351.0370370370365,
        7361.074074074074, 7371.11111111111, 7381.148148148148,
        7391.185185185184, 7401.222222222222, 7411.259259259259,
        7421.296296296296, 7431.333333333333, 7441.3703703703695,
        7451.407407407407, 7461.444444444444, 7471.481481481481,
        7481.518518518518, 7491.555555555555, 7501.592592592592,
        7511.629629629629, 7521.666666666666, 7531.7037037037035,
        7541.74074074074, 7551.777777777777, 7561.814814814814,
        7571.851851851851, 7581.888888888889, 7591.925925925925,
        7601.962962962963, 7611.999999999999, 7622.0370370370365,
        7632.074074074074, 7642.11111111111, 7652.148148148148,
        7662.185185185184, 7672.222222222222, 7682.259259259259,
        7692.296296296296, 7702.333333333333, 7712.3703703703695,
        7722.407407407407, 7732.444444444443, 7742.481481481481,
        7752.518518518518, 7762.555555555555, 7772.592592592592,
        7782.629629629629, 7792.666666666666, 7802.7037037037035,
        7812.74074074074, 7822.777777777777, 7832.814814814814,
        7842.851851851851, 7852.888888888889, 7862.925925925925,
        7872.962962962963, 7882.999999999999, 7893.0370370370365,
        7903.074074074074, 7913.11111111111, 7923.148148148148,
        7933.185185185184, 7943.222222222222, 7953.259259259259,
        7963.296296296296, 7973.333333333333, 7983.3703703703695,
        7993.407407407407, 8003.444444444443, 8013.481481481481,
        8023.518518518518, 8033.555555555555, 8043.592592592592,
        8053.629629629629, 8063.666666666666, 8073.7037037037035,
        8083.74074074074, 8093.777777777777, 8103.814814814814,
        8113.851851851851, 8123.888888888889, 8133.925925925925,
        8143.962962962963, 8153.999999999999, 8164.0370370370365,
        8174.074074074074, 8184.11111111111, 8194.148148148148,
        8204.185185185184, 8214.222222222223, 8224.25925925926,
        8234.296296296296, 8244.333333333332, 8254.37037037037,
        8264.407407407407, 8274.444444444443, 8284.481481481482,
        8294.518518518518, 8304.555555555555, 8314.592592592591,
        8324.62962962963, 8334.666666666666, 8344.703703703703,
        8354.74074074074, 8364.777777777777, 8374.814814814814,
        8384.85185185185, 8394.888888888889, 8404.925925925925,
        8414.962962962962, 8425.0, 8435.037037037036, 8445.074074074073,
        8455.111111111111, 8465.148148148148, 8475.185185185184,
        8485.22222222222, 8495.25925925926, 8505.296296296296,
        8515.333333333332, 8525.37037037037, 8535.407407407407,
        8545.444444444443, 8555.481481481482, 8565.518518518518,
        8575.555555555555, 8585.592592592591, 8595.62962962963,
        8605.666666666666, 8615.703703703703, 8625.74074074074,
        8635.777777777777, 8645.814814814814, 8655.85185185185,
        8665.888888888889, 8675.925925925925, 8685.962962962962, 8696.0,
        8706.037037037036, 8716.074074074073, 8726.111111111111,
        8736.148148148148, 8746.185185185184, 8756.22222222222,
        8766.25925925926, 8776.296296296296, 8786.333333333332,
        8796.37037037037, 8806.407407407407, 8816.444444444443,
        8826.481481481482, 8836.518518518518, 8846.555555555555,
        8856.592592592591, 8866.62962962963, 8876.666666666666,
        8886.703703703703, 8896.74074074074, 8906.777777777777,
        8916.814814814814, 8926.85185185185, 8936.888888888889,
        8946.925925925925, 8956.962962962962, 8967.0, 8977.037037037036,
        8987.074074074073, 8997.111111111111, 9007.148148148148,
        9017.185185185184, 9027.22222222222, 9037.25925925926,
        9047.296296296296, 9057.333333333332, 9067.37037037037,
        9077.407407407407, 9087.444444444443, 9097.48148148148,
        9107.518518518518, 9117.555555555555, 9127.592592592591,
        9137.62962962963, 9147.666666666666, 9157.703703703703,
        9167.74074074074, 9177.777777777777, 9187.814814814814,
        9197.85185185185, 9207.888888888889, 9217.925925925925,
        9227.962962962962, 9238.0, 9248.037037037036, 9258.074074074073,
        9268.111111111111, 9278.148148148148, 9288.185185185184,
        9298.22222222222, 9308.25925925926, 9318.296296296296,
        9328.333333333332, 9338.37037037037, 9348.407407407407,
        9358.444444444443, 9368.48148148148, 9378.518518518518,
        9388.555555555555, 9398.592592592591, 9408.62962962963,
        9418.666666666666, 9428.703703703703, 9438.74074074074,
        9448.777777777777, 9458.814814814814, 9468.85185185185,
        9478.888888888889, 9488.925925925925, 9498.962962962962, 9509.0,
        9519.037037037036, 9529.074074074073, 9539.111111111111,
        9549.148148148148, 9559.185185185184, 9569.22222222222,
        9579.25925925926, 9589.296296296296, 9599.333333333332,
        9609.37037037037, 9619.407407407407, 9629.444444444443,
        9639.48148148148, 9649.518518518518, 9659.555555555555,
        9669.592592592591, 9679.62962962963, 9689.666666666666,
        9699.703703703703, 9709.74074074074, 9719.777777777777,
        9729.814814814814, 9739.85185185185, 9749.888888888889,
        9759.925925925925, 9769.962962962962, 9780.0, 9790.037037037036,
        9800.074074074073, 9810.111111111111, 9820.148148148148,
        9830.185185185184, 9840.22222222222, 9850.25925925926,
        9860.296296296296, 9870.333333333332, 9880.37037037037,
        9890.407407407407, 9900.444444444443, 9910.48148148148,
        9920.518518518518, 9930.555555555555, 9940.592592592591,
        9950.62962962963, 9960.666666666666, 9970.703703703703,
        9980.74074074074, 9990.777777777777, 10000.814814814814,
        10010.85185185185, 10020.888888888889, 10030.925925925925,
        10040.962962962962, 10051.0,
      ],
      y: [
        9.123048668503214, 9.095670509811923, 8.976749150194125,
        8.840317046058672, 8.703884941923219, 8.567452837787766,
        8.431020733652312, 8.29458862951686, 8.158156525381406,
        8.021724421245953, 7.8852923171104985, 7.748860212975045,
        7.612428108839592, 7.475996004704139, 7.3395639005686855,
        7.203131796433231, 7.066699692297778, 6.930267588162325,
        6.7938354840268715, 6.657403379891418, 6.520971275755965,
        6.384539171620511, 6.248107067485058, 6.111674963349604,
        5.975242859214151, 5.838810755078699, 5.702378650943244,
        5.56594654680779, 5.429514442672337, 5.293082338536884,
        5.156650234401431, 5.0202181302659765, 4.883786026130523,
        4.747353921995071, 4.610921817859617, 4.4744897137241635,
        4.338057609588709, 4.201625505453257, 4.065193401317803,
        3.9348025711662076, 3.933350600017267, 3.9306919231161657,
        3.9280332462150644, 3.9253745693139632, 3.922715892412862,
        3.919498010407101, 5.195508208395703, 5.215188529364774,
        5.234868850333844, 5.254549171302915, 5.274229492271985,
        5.293909813241056, 5.313590134210126, 5.333270455179197,
        5.352950776148267, 5.372631097117338, 5.3923114180864085,
        5.4119917390554795, 5.43167206002455, 5.451352380993621,
        5.471032701962691, 5.490713022931762, 5.510393343900832,
        5.530073664869903, 5.549753985838973, 5.569434306808044,
        5.589114627777114, 5.608794948746184, 5.628475269715255,
        5.648155590684326, 5.6678359116533965, 5.687516232622467,
        5.707196553591538, 5.726876874560608, 5.746557195529679,
        5.766237516498749, 5.78591783746782, 5.80559815843689,
        5.825278479405961, 5.844958800375031, 5.864639121344102,
        5.884319442313172, 5.903999763282243, 5.9236800842513135,
        5.932557902254873, 5.938589674201857, 5.91553800684667,
        5.892486339491482, 5.869434672136295, 5.846383004781107,
        5.82333133742592, 5.800279670070732, 5.777228002715545,
        5.754176335360357, 5.73112466800517, 5.708073000649983,
        5.685021333294795, 5.6619696659396075, 5.638917998584421,
        5.615866331229233, 5.592814663874046, 5.5697629965188575,
        5.54671132916367, 5.523659661808483, 5.500607994453295,
        5.477556327098108, 5.454504659742921, 5.431452992387733,
        5.408401325032545, 5.3853496576773585, 5.362297990322171,
        5.339246322966983, 5.316194655611796, 5.293142988256609,
        5.270091320901421, 5.247039653546234, 5.223987986191046,
        5.200936318835859, 5.177884651480672, 5.154832984125484,
        5.131781316770296, 5.1087296494151095, 5.085677982059922,
        5.062626314704734, 5.039574647349546, 5.016522979994359,
        4.993471312639172, 4.970419645283984, 4.9473679779287965,
        4.92431631057361, 4.901264643218422, 4.878212975863234,
        4.855161308508047, 4.83210964115286, 4.809057973797672,
        4.786006306442484, 4.762954639087297, 4.73990297173211,
        4.716851304376922, 4.693799637021735, 4.6707479696665475,
        4.64769630231136, 4.624644634956173, 4.601592967600984,
        4.5785413002457975, 4.555489632890611, 4.532437965535422,
        4.509386298180235, 4.4863346308250485, 4.46328296346986,
        4.440231296114673, 4.417179628759485, 4.394127961404298,
        4.371076294049111, 4.348024626693923, 4.324972959338735,
        4.301921291983549, 4.278869624628361, 4.255817957273173,
        4.232766289917986, 4.209714622562798, 4.186662955207611,
        4.163611287852424, 4.1405596204972355, 4.117507953142049,
        4.094456285786861, 4.071404618431673, 4.048352951076486,
        4.025301283721299, 4.002249616366111, 3.979197949010924,
        3.9561462816557365, 3.933094614300549, 3.9100429469453615,
        3.886991279590174, 3.863939612234987, 3.840887944879799,
        3.8178362775246115, 3.7947846101694243, 3.7717329428142365,
        3.7486812754590493, 3.725629608103862, 3.7025779407486743,
        3.679526273393487, 3.6564746060382993, 3.633422938683112,
        3.610371271327925, 3.587319603972737, 3.56426793661755,
        3.5412162692623625, 3.518164601907175, 3.4951129345519876,
        3.4720612671968003, 3.4490095998416126, 3.4259579324864253,
        3.4029062651312376, 3.3798545977760504, 3.356802930420863,
        3.333751263065675, 3.3106995957104877, 3.2876479283553004,
        3.2645962610001127, 3.2415445936449254, 3.218492926289738,
        3.19544125893455, 3.1723895915793627, 3.1493379242241755,
        3.126286256868988, 3.103234589513801, 3.0801829221586137,
        3.0571312548034255, 3.0340795874482382, 3.011027920093051,
        2.9879762527378637, 2.9649245853826764, 2.941872918027489,
        2.918821250672301, 2.8957695833171138, 2.8727179159619265,
        2.8496662486067392, 2.826614581251552, 2.8035629138963634,
        2.780511246541176, 2.757459579185989, 2.7344079118308016,
        2.7113562444756143, 2.688304577120427, 2.665252909765239,
        2.6422012424100516, 2.6191495750548643, 2.596097907699677,
        2.57304624034449, 2.5499945729893017, 2.5269429056341144,
        2.503891238278927, 2.48083957092374, 2.4577879035685526,
        2.434736236213364, 2.4116845688581767, 2.38863290150299,
        2.3655812341478026, 2.3425295667926154, 2.319477899437428,
        2.2964262320822395, 2.2733745647270522, 2.250322897371865,
        2.2272712300166777, 2.2042195626614904, 2.1811678953063023,
        2.158116227951115, 2.1350645605959278, 2.1120128932407405,
        2.088961225885553, 2.065909558530366, 2.042857891175178,
        2.0198062238199905, 1.9967545564648033, 1.973702889109616,
        1.9506512217544287, 1.9275995543992401, 1.9045478870440533,
        1.8814962196888656, 1.8584445523336788, 1.835392884978491,
        1.8123412176233042, 1.7892895502681156, 1.7662378829129288,
        1.7431862155577411, 1.7201345482025543, 1.6970828808473666,
        1.674031213492178, 1.6509795461369912, 1.6279278787818035,
        1.6048762114266166, 1.5818245440714298, 1.558772876716242,
        1.5357212093610535, 1.5126695420058667, 1.489617874650679,
        1.4665662072954921, 1.4435145399403044, 1.4204628725851167,
        1.397411205229929, 1.3743595378747422, 1.3513078705195545,
        1.3282562031643677, 1.305204535809179, 1.2821528684539922,
        1.2591012010988045, 1.2360495337436177, 1.21299786638843,
        1.1899461990332432, 1.1668945316780546, 1.1438428643228669,
        1.12079119696768, 1.0977395296124923, 1.0746878622573055,
        1.051636194902117, 1.02858452754693, 1.0055328601917424,
        0.9824811928365556, 0.9594295254813678, 0.936377858126181,
        0.9133261907709924, 0.8902745234158056, 0.8672228560606179,
        0.8441711887054311, 0.8211195213502434, 0.7980678539950556,
        0.7750161866398679, 0.7519645192846811, 0.7289128519294934,
        0.7058611845743066, 0.6828095172191189, 0.6597578498639303,
        0.6367061825087434, 0.6136545151535557, 0.5906028477983689,
        0.5675511804431812, 0.5509033662834445, 0.5505669886706531,
        0.5502306110578616, 0.5498942334450703, 0.5495578558322789,
        0.5492214782194875, 0.5488851006066962, 0.5485487229939048,
        0.5482123453811134, 0.547875967768322, 0.5475395901555306,
        0.5472032125427392, 0.5468668349299478, 0.5465304573171564,
        0.5465367965367965, 0.5477711822408792, 0.5490055679449619,
        0.5502399536490445, 0.5514743393531272, 0.5527087250572099,
        0.5539431107612925, 0.5551774964653752, 0.5564118821694579,
        0.5576462678735407, 0.5588806535776233, 0.5601150392817059,
        0.5519844913784326, 0.5555555555555556, 0.5509641873278237,
        0.5601469237832875, 0.5583783967622354, 0.5491616501717516,
        0.5562114653023735, 0.5575272241938909, 0.553790705305857,
        0.5500541864178229, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5468546293462118, 0.5506949404255801,
        0.5545352515049484, 0.5583755625843166, 0.5568366039746514,
        0.5509641873278237, 0.5509641873278237, 0.5509641873278237,
        0.5509641873278237, 0.5509641873278237, 0.5509641873278237,
        0.5509641873278237, 0.5470275141992313, 0.5481796075230418,
        0.5493317008468523, 0.5504837941706628, 0.5516358874944733,
        0.5527879808182838, 0.5539400741420943, 0.5550921674659048,
        0.5463728191000918, 0.5463728191000918, 0.5467837748982529,
        0.5506240859776212, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5463728191000918, 0.5463728191000918,
        0.5463728191000918, 0.5474765442365976, 0.5492155530272549,
        0.5509545618179122, 0.5526935706085696, 0.554432579399227,
        0.5602683885512169, 0.5624628520251416, 0.5646573154990664,
        0.566851778972991, 0.5690462424469158, 0.5712407059208406,
        0.5734351693947654, 0.5756296328686902, 0.5778240963426148,
        0.5800185598165396, 0.5822130232904642, 0.5844074867643891,
        0.586601950238314, 0.5887964137122386, 0.5909908771861634,
        0.593185340660088, 0.5953798041340128, 0.5975742676079377,
        0.5997687310818623, 0.6019631945557872, 0.6041576580297118,
        0.6063521215036366, 0.6085465849775615, 0.6107410484514861,
        0.612935511925411, 0.6151299753993356, 0.6173244388732604,
        0.6195189023471852, 0.6217133658211099, 0.6239078292950347,
        0.6261022927689593, 0.6282967562428842, 0.6383722507409975,
        0.6387365490252063, 0.6391008473094152, 0.639465145593624,
        0.6398294438778329, 0.6401937421620417, 0.6405580404462505,
        0.6409223387304595, 0.6412866370146683, 0.6416509352988772,
        0.642015233583086, 0.6423795318672948, 0.6427438301515037,
        0.6431081284357125, 0.6434724267199214, 0.6438367250041303,
        0.6442010232883391, 0.644565321572548, 0.6449296198567568,
        0.6452939181409657, 0.6456582164251745, 0.6460225147093833,
        0.6463868129935922, 0.646751111277801, 0.64711540956201,
        0.6474797078462188, 0.6478440061304276, 0.6482083044146365,
        0.6485726026988453, 0.6489369009830542, 0.649301199267263,
        0.649665497551472, 0.6500297958356808, 0.6503940941198896,
        0.6507583924040985, 0.6511226906883073, 0.6514869889725162,
        0.651851287256725, 0.6522155855409338, 0.6525798838251428,
        0.6529441821093516, 0.6533084803935605, 0.6536727786777693,
        0.6540370769619781, 0.654401375246187, 0.6547656735303958,
        0.6551299718146048, 0.6554942700988136, 0.6558585683830224,
        0.6562228666672313, 0.6565871649514401, 0.656951463235649,
        0.6573157615198578, 0.6576800598040666, 0.6580443580882755,
        0.6584086563724844, 0.6587729546566933, 0.6591372529409021,
        0.6595015512251109, 0.6598658495093198, 0.6602301477935286,
        0.6605944460777375, 0.6609587443619463, 0.6613230426461552,
        0.6616873409303641, 0.6620516392145729, 0.6624159374987818,
        0.6627802357829906, 0.6631445340671994, 0.6635088323514083,
        0.6638731306356171, 0.6642374289198261, 0.6646017272040349,
        0.6649660254882437, 0.6653303237724526, 0.6656946220566614,
        0.6682034996428934, 0.6611570247933884, 0.6702214514099599,
        0.6699649556792414, 0.6697084599485229, 0.6694519642178045,
        0.669195468487086, 0.6689389727563675, 0.6686824770256491,
        0.6684259812949306, 0.6681694855642121, 0.6679129898334936,
        0.6676564941027752, 0.6673999983720567, 0.6671435026413381,
        0.6668870069106198, 0.6666305111799012, 0.6663740154491827,
        0.6661175197184642, 0.6658610239877458, 0.6656045282570273,
        0.6653480325263088, 0.6650915367955904, 0.6648350410648719,
        0.6645785453341534, 0.6643220496034349, 0.6640655538727165,
        0.663809058141998, 0.6635525624112795, 0.663296066680561,
        0.6630395709498426, 0.662783075219124, 0.6625265794884055,
        0.6622700837576871, 0.6620135880269686, 0.6617570922962501,
        0.6615005965655316, 0.6612441008348132, 0.6609876051040947,
        0.6607311093733762, 0.6604746136426578, 0.6602181179119393,
        0.6599616221812208, 0.6597051264505023, 0.6594486307197838,
        0.6591921349890654, 0.6589356392583469, 0.6586791435276284,
        0.65842264779691, 0.6581661520661914, 0.6579096563354729,
        0.6576531606047544, 0.657396664874036, 0.6571401691433175,
        0.656883673412599, 0.6566271776818806, 0.7667584940312213,
        0.7931588613406817, 0.9092609597659994, 1.0150324796789345,
        1.1100908070605022, 1.2131415161718189, 1.2894942692922464,
        1.3452708907254363, 1.4046185763357446, 1.473999251777031,
        1.4830119375573922, 1.5105601469237833, 1.5763697581879468,
        1.548821548821539, 1.5801108730401643, 1.6207529843893482,
        1.6483011937557392, 1.6620752984389346, 1.6758494031221305,
        1.7171717171717296, 1.7033976124885217, 1.7125803489439853,
        1.7355371900826446, 1.7309458218549127, 1.7401285583103765,
        1.7447199265381084, 1.7526272829303124, 1.7814508723599631,
        1.7829813284358766, 1.795224977043159, 1.805428017549219,
        1.7860422405876952, 1.7943747236676528, 1.8038408779149515,
        1.812618731810651, 1.8181818181818183, 1.8181818181818183,
        1.8181818181818183, 1.7950549263680602, 1.7860422405876952,
        1.8089990817263544, 1.790633608815427, 1.8089990817263544,
        1.8181818181818183, 1.82277318640955, 1.7860422405876952,
        1.8105295378022679, 1.8044077134986225, 1.7860422405876952,
        1.7860422405876952, 1.7860422405876952, 1.8205625276332336,
        1.9079685746352375, 2.025473591130143, 2.1717171717171717,
        2.2589531680440773, 2.309458218549128, 2.36455463728191,
        2.4461789613304745, 2.480189096350713, 2.607897153351699,
        2.6946229976532994, 2.764003673094582, 2.8651838247797863,
        2.952249770431585, 3.0348943985307617, 3.129952725912325,
        3.1639628609325547, 3.2185491276400366, 3.28180797877767,
        3.314967860422406, 3.472264734890997, 3.4879093970002777,
        3.559840832568104, 3.7082950719314183, 3.8055640580892955,
        4.168962350780532, 4.343434343434343, 4.434241403938373,
        4.591368227731864, 4.685066149712616, 4.728769173213617,
        4.856137128864399, 5.112120078450039, 5.297248580076859,
        5.387205387205382, 5.462877937625412, 5.5693296602387505,
        5.720844811753903, 5.897867564534211, 6.192735435159667,
        6.340679522497704, 6.5556235758255745, 6.678740264598833,
        6.786552392612936, 6.937557392102846, 7.081675339251067,
        7.209468421589631, 7.29687446859164, 7.355371900826446,
        7.410468319559207, 7.462673876815287, 7.5436179981634535,
        7.618610345883072, 7.721944472786224, 7.791041730435677,
        7.88337924701561, 7.920790395537856, 8.015508621569227,
        8.076216712580349, 8.152909567050981, 8.149678604224059,
        8.195464748495048, 8.236914600550964, 8.28861000578171,
        8.32415059687787, 8.360541441349518, 8.447522361663768,
        8.512396694214877, 8.577015950753319, 8.678026051763425,
        4.848484848484849, 4.853756419412983, 4.931129476584022,
        5.019385776961532, 5.036730945821855, 5.097779138183176,
        5.149984695439235, 5.2312689181376015, 5.284664830119375,
        5.333639424548513, 5.447573376866304, 5.475291636907797,
        5.654525048464405, 5.808080808080808, 5.921164507023092,
        5.977961432506888, 6.063837023432982, 6.147842056932966,
        6.234440363228239, 6.289324218617144, 6.3544536271809005,
        6.41363126211611, 6.4901540659116215, 6.575009352787133,
        6.597796143250684, 6.716151413121125, 6.781790973710165,
        6.838077747168646, 6.891643709825528, 6.937557392102846,
        7.019181716151415, 7.0581233207495835, 7.110668979355851,
        7.144168962350781, 5.782190592796721, 5.617113899942181,
        5.699928578716457, 5.70928136584702, 5.7529843893480255,
        5.808080808080808, 5.87508077407067, 5.922609937761447,
        5.972289742343215, 6.029216706578559, 6.05720504710404,
        6.135598408325667, 6.119443594191064, 6.143250688705234,
        6.166207529843893, 6.235078053259872, 6.212121212121212,
        6.221303948576677, 6.244430840390434, 6.248852157943067,
        6.253443526170798, 6.248852157943067, 6.248852157943067,
        6.248852157943067, 6.248852157943067, 6.248852157943067,
        6.238138965411694, 6.260415603849963, 6.299357208448118,
        6.310580553004791, 6.316305592399872, 6.333877495493656,
        6.384552596673805, 6.400324796789441, 6.483011937557393,
        6.464646464646465, 6.496786042240588, 6.509369792198072,
        6.560044893378224, 6.5381083562901745, 6.583341835867086,
        6.5559636771757965, 6.579430670339761, 6.597626092575585,
        6.671258034894398, 6.675849403122131, 6.74506002788831,
        6.761554943373105, 6.8319559228650135, 6.883311226745566,
        6.929394959697987, 7.001836547291092, 7.058293371424682,
        7.119681665136207, 7.180899908172636, 4.767965853824831,
        3.5254055708602485, 3.528551508349491, 3.53297282590212,
        3.549127640036731, 3.576675849403122, 3.6237798864061403,
        3.633302724211818, 3.638234193789747, 3.6639118457300275,
        3.66748290990715, 3.676835697037713, 3.6960514233241506,
        3.6960514233241506, 3.709825528007346, 3.714586946910181,
        3.70982552800735, 3.714416896235078, 3.7190082644628095,
        3.7376288133863875, 3.7636465666768677, 3.7695133149678606,
        3.7970615243342514, 3.806244260789715, 3.814916845219866,
        3.8812366085093304, 3.918137605006292, 3.9669421487603307,
        4.054178145087236, 4.082503728968379, 4.165731387953607,
        4.235282114069997, 4.277284630819978, 4.3204775022956845,
        4.391898785838168, 4.416896235078053, 4.492568785498079,
        4.5408631772268135, 4.603866952351795, 4.6510560146923785,
        4.695247933884296, 4.719926538108356, 4.752236166377586,
        4.82552800734619, 4.85222596333707, 4.913784307723686,
        4.927048260381595, 4.965819814304662, 5.001700506751003,
        5.017345168860297, 5.07346189164371, 5.09641873278237,
        5.0994796449341795, 5.12396694214876, 5.163758800122416,
        5.187735945311693, 5.234159779614325, 5.257116620752984,
        5.261707988980716, 5.278202904465524, 5.291891983811174,
        5.310682583409854, 5.312213039485767, 5.346393225181108,
        5.3489439853076215, 5.362151254407143, 5.367309458218549,
        5.389756147331903, 5.39485766758494, 5.431588613406795,
        5.426997245179064, 5.431588613406795, 5.454545454545454,
        5.463728191000918, 5.482093663911845, 5.482093663911845,
        5.5060708091011055, 5.510832228003945, 5.413223140495868,
        5.426997245179064, 5.426997245179064, 5.426997245179064,
        5.426997245179064, 5.426997245179064, 5.426997245179064,
        5.4224058769513315, 5.4224058769513315, 5.426997245179064,
        5.431588613406795, 5.436179981634527, 5.437370336360234,
        5.4565860626466645, 5.4729109274563825, 5.500459136822773,
        5.522905825936128, 5.628677345849059, 5.733768663061563,
        5.697887970615243, 5.7670135700438685, 5.79464680474781,
        5.836139169472504, 5.867768595041323, 5.885793966602027,
        5.922865013774104, 5.950413223140496, 5.956364996769034,
        6.008570554025088, 6.033057851239669, 6.042240587695133,
        6.08560350984593, 6.117913138115151, 6.124885215794307,
        6.161616161616161, 6.201067918239629, 6.212121212121212,
        6.230486685032139, 6.253698602183443, 6.276400367309458,
        6.308539944903582, 6.326395265789179, 6.336088154269972,
        6.363636363636363, 6.391184573002755, 6.386593204775023,
        6.409550045913682, 6.418732782369147, 6.437098255280073,
        6.446280991735537, 6.441689623507806, 6.4508723599632685,
        6.446280991735537, 6.446280991735537, 6.441689623507806,
        6.441689623507806, 6.441689623507806, 6.45274291738938,
        6.45750433629221, 6.460055096418733, 6.473829201101928,
        6.469237832874196, 6.4719586436758085, 6.469237832874196,
        6.4722987450260145, 6.495425636839773, 6.496786042240588,
        6.5013774104683195, 6.5013774104683195, 6.500697207767908,
        6.505968778696052, 6.496786042240588, 6.533346937387335,
        6.533516988062442, 6.524334251606979, 6.547291092745638,
        6.551882460973371, 6.551882460973371, 6.561915450804335,
        6.588613406795226, 6.606978879706152, 6.606978879706152,
        6.628405264768907, 6.627044859368092, 6.634527089072543,
        6.640457606366695, 6.664923647246878, 6.675849403122131,
        6.680440771349863, 6.673978845696011, 6.697105737509777,
        6.711049892868072, 6.726354453627181, 6.720572730673742,
        6.719212325272935, 6.7217630853994494, 6.717171717171717,
        6.717171717171717, 6.717171717171717, 6.730945821854912,
        6.740128558310376, 6.767846818351867, 6.763085399449036,
        6.786042240587696, 6.799816345270891, 6.804407713498622,
        6.804407713498622, 6.803217358772915, 6.813590449954087,
        6.852362003877143, 6.847090432949019, 6.882460973370065,
        6.891643709825528, 6.887052341597796, 6.9032071557324075,
        6.921232527293137, 6.989393647387714, 7.108559663911159,
        7.227725680434581, 7.346891696958004, 7.466057713481447,
        7.58522373000487, 7.7043897465282924, 7.823555763051715,
        7.942721779575159, 8.061887796098581, 8.081815304037535,
        8.011937557392102,
      ],
    };

    const margin = { top: 20, right: 20, bottom: 30, left: 50 };
    const width = 960 - margin.left - margin.right;
    const height = 500 - margin.top - margin.bottom;

    const svgRoot: Selection<SVGSVGElement, unknown, HTMLElement, any> = d3
      .select("#chart-area")
      .append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom);

    const svg = svgRoot
      .append("g")
      .attr("transform", `translate(${margin.left}, ${margin.top})`);

    const xScale = d3
      .scaleLinear()
      .domain([d3.min(data.x)!, d3.max(data.x)!])
      .range([0, width]);

    const yScale = d3
      .scaleLinear()
      .domain([d3.min(data.y)!, d3.max(data.y)!])
      .range([height, 0]);

    const scatter = svg
      .selectAll("circle")
      .data(data.x)
      .enter()
      .append("circle")
      .attr("cx", (d, i) => xScale(data.x[i])!)
      .attr("cy", (d, i) => yScale(data.y[i])!)
      .attr("r", 2)
      .style("fill", "blue")
      .style("cursor", "pointer")
      .on("click", handlePointClick);

    let dragStartCoords: [number, number] | null = null;
    let dragEndCoords: [number, number] | null = null;

    const selectionRect = svgRoot
      .append("rect")
      .attr("class", "selection-rect")
      .style("fill", "rgba(0, 0, 255, 0.2)")
      .style("stroke", "blue")
      .style("stroke-width", 1)
      .style("cursor", "crosshair")
      .attr("pointer-events", "all")
      .style("display", "none");

    (svgRoot as any).call(
      d3
        .drag()
        .on("start", (event: any) => {
          const coords = d3.pointer(event, svgRoot.node()); // obtener las coordenadas relativas al svgRoot
          dragStartCoords = [coords[0], coords[1]];
          dragEndCoords = null;
          selectionRect
            .attr("x", dragStartCoords[0])
            .attr("y", dragStartCoords[1])
            .attr("width", 0)
            .attr("height", 0)
            .style("display", null);
        })
        .on("drag", (event: any) => {
          if (!dragStartCoords) return;
          const coords = d3.pointer(event, svgRoot.node());
          selectionRect
            .attr("width", Math.abs(coords[0] - dragStartCoords[0]))
            .attr("height", Math.abs(coords[1] - dragStartCoords[1]))
            .attr(
              "x",
              coords[0] > dragStartCoords[0] ? dragStartCoords[0] : coords[0]
            )
            .attr(
              "y",
              coords[1] > dragStartCoords[1] ? dragStartCoords[1] : coords[1]
            );
        })
        .on("end", (event: any) => {
          const startCoords = dragStartCoords as [number, number];
          const endCoords = d3.pointer(event, svgRoot.node());
          if (startCoords) {
            const selectedPoints: [number, number][] = [];
            scatter.each(function (d, i) {
              const cx = data.x[i];
              const cy = data.y[i];
              const xMouseMin = xScale.invert(
                Math.min(startCoords[0], endCoords[0])
              );
              const xMouseMax = xScale.invert(
                Math.max(startCoords[0], endCoords[0])
              );
              const yMouseMin = yScale.invert(
                Math.max(startCoords[1], endCoords[1])
              );
              const yMouseMax = yScale.invert(
                Math.min(startCoords[1], endCoords[1])
              );
              if (
                cx >= xMouseMin &&
                cx <= xMouseMax &&
                cy >= yMouseMin &&
                cy <= yMouseMax
              ) {
                selectedPoints.push([cx, cy]);
              }
              console.log(xMouseMin, xMouseMax, yMouseMin, yMouseMax);
            });
            console.log("Selected points:", selectedPoints);
            selectionRect.style("display", "none"); // hide the selection box after selection
          }
        })
    );

    function handlePointClick(d: any, i: number) {
      console.log("Point clicked:", data.x[i], data.y[i]);
    }

    svg
      .append("g")
      .call(d3.axisBottom(xScale))
      .attr("transform", `translate(0, ${height})`);
    svg.append("g").call(d3.axisLeft(yScale));
  }

  onButtonClick() {
    // implementation goes here
  }
}
